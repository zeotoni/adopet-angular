<main class="signup">
  <div class="signup__container-logo">
      <img src="assets/img/logo-azul.svg" alt="Logo da adopet" class="signup__logo">
  </div>
  <h3 class="signup__titulo">Ainda não tem cadastro?<br>Então, antes de buscar seu melhor amigo, precisamos de alguns dados:</h3>
  <form #form="ngForm" [formGroup]="signupForm" (submit)="signup()" class="signup__form">

      <div>
          <label class="signup__label label" for="email">Email</label>
          <input formControlName="email" class="signup__input input" type="email" placeholder="Escolha seu melhor email">
          <app-message *ngIf="signupForm.get('email')?.errors?.['required'] && (form.submitted || signupForm.get('email')?.touched)" text="Email is required"></app-message>
          <app-message *ngIf="signupForm.get('email')?.errors?.['email'] && (form.submitted || signupForm.get('email')?.touched)" text="Must to be a valid email format"></app-message>
          <app-message *ngIf="signupForm.get('email')?.errors?.['emailIsTaken'] && (form.submitted || signupForm.get('email')?.touched)" text="Email is already taken"></app-message>
          <small *ngIf="signupForm.get('email')?.valid" class="msg-success">Email available</small>
      </div>

      <div>
          <label class="signup__label label" for="name">Nome</label>
          <input formControlName="name" class="signup__input input" type="text" placeholder="Digite seu nome completo">
          <app-message *ngIf="signupForm.get('name')?.errors?.['required'] && (form.submitted || signupForm.get('name')?.touched)" text="Name is required"></app-message>
          <app-message *ngIf="signupForm.get('name')?.errors?.['minlength'] && (form.submitted || signupForm.get('name')?.touched)" text="Minimum length is 10"></app-message>
      </div>

      <div>
          <label class="signup__label label" for="senha">Senha</label>
          <input formControlName="password" class="signup__input input" type="password" placeholder="Crie uma senha">
          <app-message *ngIf="signupForm.get('password')?.errors?.['required'] && (form.submitted || signupForm.get('password')?.touched)" text="Password is required"></app-message>
          <app-message *ngIf="signupForm.get('password')?.errors?.['pattern'] && (form.submitted || signupForm.get('password')?.touched)" text="Password must have at least one uppercase letter, one number, none special character and must to be between 8 and 16 characters!"></app-message>
      </div>

      <div>
          <label class="signup__label label" for="senha">Confirme sua senha</label>
          <input formControlName="confirmPassword" class="signup__input input" type="password" placeholder="Repita a senha criada acima">
          <app-message *ngIf="signupForm.get('confirmPassword')?.errors?.['required'] && (form.submitted || signupForm.get('confirmPassword')?.touched)" text="Password is required"></app-message>
          <app-message *ngIf="signupForm.errors?.['confirmPasswordValidator'] && (form.submitted || signupForm.get('confirmPassword')?.touched)" text="Password don't match"></app-message>
      </div>

     <button type="submit" class="signup__btn btn">Cadastrar</button>
  </form>
</main>
